(function(){function a(a,b){if(a&&"object"==typeof a&&a.constructor===this)return a;var c=new this(h,b);return l(c,a),c}function b(a,b,c){1===Q.push({name:a,H:{M:b.q+b.r,L:a,detail:b.b,K:c&&b.q+c.r,label:b.u,timeStamp:O(),stack:Error(b.u).stack}})&&setTimeout(function(){for(var a,b=0;b<Q.length;b++)a=Q[b],M.l(a.name,a.H);Q.length=0},50)}function c(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function d(a){var b=a.v;return b||(b=a.v={}),b}function e(a,b){if("onerror"===a)M.k("error",b);else{if(2!==arguments.length)return M[a];M[a]=b}}function f(a){return"function"==typeof a}function g(){}function h(){}function i(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function j(a,b,c){M.async(function(a){var d=!1,e=i(c,b,function(c){d||(d=!0,b!==c?l(a,c):n(a,c))},function(b){d||(d=!0,o(a,b))});!d&&e&&(d=!0,o(a,e))},a)}function k(a,b){1===b.a?n(a,b.b):2===a.a?o(a,b.b):p(b,void 0,function(c){b!==c?l(a,c):n(a,c)},function(b){o(a,b)})}function l(a,b){if(a===b)n(a,b);else if("function"==typeof b||"object"==typeof b&&null!==b)if(b.constructor===a.constructor)k(a,b);else{var c;try{c=b.then}catch(d){R.error=d,c=R}c===R?o(a,R.error):void 0===c?n(a,b):f(c)?j(a,b,c):n(a,b)}else n(a,b)}function m(a){a.d&&a.d(a.b),q(a)}function n(a,c){void 0===a.a&&(a.b=c,a.a=1,0===a.i.length?M.g&&b("fulfilled",a):M.async(q,a))}function o(a,b){void 0===a.a&&(a.a=2,a.b=b,M.async(m,a))}function p(a,b,c,d){var e=a.i,f=e.length;a.d=null,e[f]=b,e[f+1]=c,e[f+2]=d,0===f&&a.a&&M.async(q,a)}function q(a){var c=a.i,d=a.a;if(M.g&&b(1===d?"fulfilled":"rejected",a),0!==c.length){for(var e,f,g=a.b,h=0;h<c.length;h+=3)e=c[h],f=c[h+d],e?s(d,e,f,g):f(g);a.i.length=0}}function r(){this.error=null}function s(a,b,c,d){var e,g,h,i,j=f(c);if(j){try{e=c(d)}catch(k){S.error=k,e=S}if(e===S?(i=!0,g=e.error,e=null):h=!0,b===e)return void o(b,new TypeError("A promises callback cannot return that same promise."))}else e=d,h=!0;void 0===b.a&&(j&&h?l(b,e):i?o(b,g):1===a?n(b,e):2===a&&o(b,e))}function t(a,b){try{b(function(b){l(a,b)},function(b){o(a,b)})}catch(c){o(a,c)}}function u(a,b,c){return 1===a?{state:"fulfilled",value:c}:{state:"rejected",reason:c}}function v(a,b,c,d){this.B=a,this.c=new a(h,d),this.A=c,this.w(b)?(this.t=b,this.e=this.length=b.length,this.s(),0===this.length?n(this.c,this.b):(this.length=this.length||0,this.p(),0===this.e&&n(this.c,this.b))):o(this.c,this.j())}function w(a,c){if(this.r=U++,this.u=c,this.b=this.a=void 0,this.i=[],M.g&&b("created",this),h!==a){if(!f(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof w))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");t(this,a)}}function x(){this.value=void 0}function y(a,b,c){try{a.apply(b,c)}catch(d){return W.value=d,W}}function z(a,b){return{then:function(c,d){return a.call(b,c,d)}}}function A(a,b,c,d){return b=y(c,d,b),b===W&&o(a,b.value),a}function B(a,b,c,d){return V.all(b).then(function(b){return b=y(c,d,b),b===W&&o(a,b.value),a})}function C(a,b,c){this.f(a,b,!1,c)}function D(a,b,c){this.f(a,b,!0,c)}function E(a,b,c){this.f(a,b,!1,c)}function F(){return function(){process.N(J)}}function G(){var a=0,b=new $(J),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function H(){var a=new MessageChannel;return a.port1.onmessage=J,function(){a.port2.postMessage(0)}}function I(){return function(){setTimeout(J,1)}}function J(){for(var a=0;Z>a;a+=2)_[a](_[a+1]),_[a]=void 0,_[a+1]=void 0;Z=0}function K(){M.k.apply(M,arguments)}var L={G:function(a){return a.k=this.k,a.n=this.n,a.l=this.l,a.v=void 0,a},k:function(a,b){var e,f=d(this);(e=f[a])||(e=f[a]=[]),-1===c(e,b)&&e.push(b)},n:function(a,b){var e,f=d(this);b?(f=f[a],e=c(f,b),-1!==e&&f.splice(e,1)):f[a]=[]},l:function(a,b){var c,e;if(c=d(this)[a])for(var f=0;f<c.length;f++)(e=c[f])(b)}},M={g:!1};L.G(M);var N=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},O=Date.now||function(){return(new Date).getTime()},P=Object.create||function(a){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof a)throw new TypeError("Argument must be an object");return g.prototype=a,new g},Q=[],R=new r,S=new r;v.prototype.w=function(a){return N(a)},v.prototype.j=function(){return Error("Array Methods must be provided an Array")},v.prototype.s=function(){this.b=Array(this.length)},v.prototype.p=function(){for(var a=this.length,b=this.c,c=this.t,d=0;void 0===b.a&&a>d;d++)this.o(c[d],d)},v.prototype.o=function(a,b){var c=this.B;"object"==typeof a&&null!==a?a.constructor===c&&void 0!==a.a?(a.d=null,this.m(a.a,b,a.b)):this.C(c.resolve(a),b):(this.e--,this.b[b]=this.h(1,b,a))},v.prototype.m=function(a,b,c){var d=this.c;void 0===d.a&&(this.e--,this.A&&2===a?o(d,c):this.b[b]=this.h(a,b,c)),0===this.e&&n(d,this.b)},v.prototype.h=function(a,b,c){return c},v.prototype.C=function(a,b){var c=this;p(a,void 0,function(a){c.m(1,b,a)},function(a){c.m(2,b,a)})};var T="rsvp_"+O()+"-",U=0,V=w;w.J=a,w.all=function(a,b){return new v(this,a,!0,b).c},w.race=function(a,b){function c(a){l(e,a)}function d(a){o(e,a)}var e=new this(h,b);if(!N(a))return o(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;void 0===e.a&&f>g;g++)p(this.resolve(a[g]),void 0,c,d);return e},w.resolve=a,w.reject=function(a,b){var c=new this(h,b);return o(c,a),c},w.prototype={constructor:w,q:T,d:function(a){M.l("error",a)},then:function(a,c,d){var e=this.a;if(1===e&&!a||2===e&&!c)return M.g&&b("chained",this,this),this;this.d=null;var f=new this.constructor(h,d),g=this.b;if(M.g&&b("chained",this,f),e){var i=arguments[e-1];M.async(function(){s(e,f,i,g)})}else p(this,f,a,c);return f},"catch":function(a,b){return this.then(null,a,b)}};var W=new x,X=new x;C.prototype=P(v.prototype),C.prototype.f=v,C.prototype.h=u,C.prototype.j=function(){return Error("allSettled must be called with an array")},D.prototype=P(v.prototype),D.prototype.f=v,D.prototype.s=function(){this.b={}},D.prototype.w=function(a){return a&&"object"==typeof a},D.prototype.j=function(){return Error("Promise.hash must be called with an object")},D.prototype.p=function(){var a,b=this.c,c=this.t,d=[];for(a in c)void 0===b.a&&c.hasOwnProperty(a)&&d.push({position:a,D:c[a]});this.e=c=d.length;for(var e=0;void 0===b.a&&c>e;e++)a=d[e],this.o(a.D,a.position)},E.prototype=P(D.prototype),E.prototype.f=v,E.prototype.h=u,E.prototype.j=function(){return Error("hashSettled must be called with an object")};var Y,Z=0,P="undefined"!=typeof window?window:{},$=P.MutationObserver||P.WebKitMutationObserver,P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,_=Array(1e3);if(Y="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?F():$?G():P?H():I(),M.async=function(a,b){_[Z]=a,_[Z+1]=b,Z+=2,2===Z&&Y()},"undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){P=window.__PROMISE_INSTRUMENTATION__,e("instrument",!0);for(var ab in P)P.hasOwnProperty(ab)&&K(ab,P[ab])}var bb={race:function(a,b){return V.race(a,b)},Promise:V,allSettled:function(a,b){return new C(V,a,b).c},hash:function(a,b){return new D(V,a,b).c},hashSettled:function(a,b){return new E(V,a,b).c},denodeify:function(a,b){function c(){for(var c,d=arguments.length,e=Array(d+1),f=!1,g=0;d>g;++g){if(c=arguments[g],!f){if(c&&"object"==typeof c){var i;if(c.constructor===V)i=!0;else try{i=c.then}catch(j){W.value=j,i=W}f=i}else f=!1;if(f===X)return d=new V(h),o(d,X.value),d;f&&!0!==f&&(c=z(f,c))}e[g]=c}var k=new V(h);return e[d]=function(a,c){if(a)o(k,a);else if(void 0===b)l(k,c);else if(!0===b){for(var d=arguments,e=d.length,f=Array(e-1),g=1;e>g;g++)f[g-1]=d[g];l(k,f)}else if(N(b)){for(var f=arguments,d={},g=f.length,e=Array(g),h=0;g>h;h++)e[h]=f[h];for(g=0;g<b.length;g++)f=b[g],d[f]=e[g+1];l(k,d)}else l(k,c)},f?B(k,e,a,this):A(k,e,a,this)}return c.__proto__=a,c},on:K,off:function(){M.n.apply(M,arguments)},map:function(a,b,c){return V.all(a,c).then(function(a){if(!f(b))throw new TypeError("You must pass a function as map's second argument.");for(var d=a.length,e=Array(d),g=0;d>g;g++)e[g]=b(a[g]);return V.all(e,c)})},filter:function(a,b,c){return V.all(a,c).then(function(a){if(!f(b))throw new TypeError("You must pass a function as filter's second argument.");for(var d=a.length,e=Array(d),g=0;d>g;g++)e[g]=b(a[g]);return V.all(e,c).then(function(b){for(var c=Array(d),e=0,f=0;d>f;f++)b[f]&&(c[e]=a[f],e++);return c.length=e,c})})},resolve:function(a,b){return V.resolve(a,b)},reject:function(a,b){return V.reject(a,b)},all:function(a,b){return V.all(a,b)},rethrow:function(a){throw setTimeout(function(){throw a}),a},defer:function(a){var b={};return b.c=new V(function(a,c){b.resolve=a,b.reject=c},a),b},EventTarget:L,configure:e,async:function(a,b){M.async(a,b)}};"function"==typeof define&&define.I?define(function(){return bb}):"undefined"!=typeof module&&module.F?module.F=bb:"undefined"!=typeof this&&(this.RSVP=bb)}).call(this),function(a,b){"use strict";var c=b.head||b.getElementsByTagName("head")[0],d="basket-",e=5e3,f=function(a,b){try{return localStorage.setItem(d+a,JSON.stringify(b)),!0}catch(c){if(c.name.toUpperCase().indexOf("QUOTA")>=0){var e,g=[];for(e in localStorage)0===e.indexOf(d)&&g.push(JSON.parse(localStorage[e]));return g.length?(g.sort(function(a,b){return a.stamp-b.stamp}),basket.remove(g[0].key),f(a,b)):void 0}return}},g=function(a){var b=new RSVP.Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a),d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b({content:d.responseText,type:d.getResponseHeader("content-type")}):c(new Error(d.statusText)))},setTimeout(function(){d.readyState<4&&d.abort()},basket.timeout),d.send()});return b},h=function(a){return g(a.url).then(function(b){var c=i(a,b);return a.skipCache||f(a.key,c),c})},i=function(a,b){var c=+new Date;return a.data=b.content,a.originalType=b.type,a.type=a.type||b.type,a.skipCache=a.skipCache||!1,a.stamp=c,a.expire=c+60*(a.expire||e)*60*1e3,a},j=function(a,b){return!a||a.expire-+new Date<0||b.unique!==a.unique||basket.isValidItem&&!basket.isValidItem(a,b)},k=function(a){var b,c,d;return a.url?(a.key=a.key||a.url,b=basket.get(a.key),a.execute=a.execute!==!1,d=j(b,a),a.live||d?(a.unique&&(a.url+=(a.url.indexOf("?")>0?"&":"?")+"basket-unique="+a.unique),c=h(a),a.live&&!d&&(c=c.then(function(a){return a},function(){return b}))):(b.type=a.type||b.originalType,c=new RSVP.Promise(function(a){a(b)})),c):void 0},l=function(a){var d=b.createElement("script");d.defer=!0,d.text=a.data,c.appendChild(d)},m={"default":l},n=function(a){return a.type&&m[a.type]?m[a.type](a):m["default"](a)},o=function(a){a.map(function(a){return a.execute&&n(a),a})},p=function(){var a,b,c=[];for(a=0,b=arguments.length;b>a;a++)c.push(k(arguments[a]));return RSVP.all(c)},q=function(){var a=p.apply(null,arguments),b=this.then(function(){return a}).then(o);return b.thenRequire=q,b};a.basket={require:function(){var a=p.apply(null,arguments).then(o);return a.thenRequire=q,a},remove:function(a){return localStorage.removeItem(d+a),this},get:function(a){var b=localStorage.getItem(d+a);try{return JSON.parse(b||"false")}catch(c){return!1}},clear:function(a){var b,c,e=+new Date;for(b in localStorage)c=b.split(d)[1],c&&(!a||this.get(c).expire<=e)&&this.remove(c);return this},isValidItem:null,timeout:5e3,addHandler:function(a,b){Array.isArray(a)||(a=[a]),a.forEach(function(a){m[a]=b})},removeHandler:function(a){basket.addHandler(a,void 0)}},basket.clear(!0)}(this,document),window.console&&console.log||!function(){for(var a=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,d=window.console={};c;)d[b[c]]=a,c-=1}();var Brandung=function(a,b){"use strict";a=a||{};for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}(Brandung,{folderPath:"typo3conf/ext/a21_custom/Resources/Public/js/",IE8:document.all&&!document.addEventListener?!0:!1,IE9:document.all&&!window.atob?!0:!1,errorHandler:function(a){console.error("An error occurred while fetching main scripts:"),console.error(a)},GlobalVars:{}});Brandung.dynamicFolderPath&&(Brandung.folderPath=Brandung.dynamicFolderPath),basket.timeout=6e4,basket.clear(),Brandung.DeferMainPlugins=Brandung.IE8?jQuery.Deferred():basket.require({url:Brandung.folderPath+"/libs/vendor/jquery/jquery.js",unique:"1.11.0"},{url:Brandung.folderPath+"libs/vendor/modernizr/modernizr.custom.min.js",unique:"2.8.1"}),Brandung.IE8&&Brandung.DeferMainPlugins.resolve(),Brandung.DeferMainPlugins.then(function(){!function(a){!function(a,b){var c=function(a,b,c){var d;return function(){var e=this,f=arguments;d?clearTimeout(d):c&&a.apply(e,f),d=setTimeout(function(){c||a.apply(e,f),d=null},b||100)}};a.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize"),Brandung.DeferLoadPlugin=Brandung.IE8?a.when(a.getScript(Brandung.folderPath+"libs/bra/loadmodule/jquery.loadmodule.min.js")):basket.require({url:Brandung.folderPath+"libs/bra/loadmodule/jquery.loadmodule.min.js",unique:"1.0.0"}),Brandung.DeferLoadPlugin.then(function(){Brandung.GlobalVars=a.extend(Brandung.GlobalVars,{$body:a("body"),$window:a(window)}),Brandung.Mobile=a.extend(Brandung.Mobile?Brandung.Mobile:{},{init:function(){a(".nav-toggle").on("click",function(b){b.preventDefault();var c=a(".btn-meta-menu"),d=a(".meta-list");c.hasClass("active")&&c.trigger("click"),Brandung.GlobalVars.$body.toggleClass("navigation-is-active"),d.find(".btn-active").removeClass("btn-active"),d.find(".fadeInUp").removeClass("fadeInUp")}),this.turnOffNavi()}}),Brandung.Mobile.turnOffNavi=function(){var b=a('nav[role="navigation"] ul li a');b.on("click",function(){var b=a(this);b.hasClass("active")&&Brandung.GlobalVars.$body.removeClass("navigation-is-active")})},Brandung.Mobile.checkOrientation=function(){0!==window.orientation?Brandung.GlobalVars.$body.removeClass("portrait").addClass("landscape"):Brandung.GlobalVars.$body.removeClass("landscape").addClass("portrait"),Brandung.Helpers.reInit()},Brandung.Mobile.mediaDevice=Brandung.IE8?"desktop":window.getComputedStyle(document.body,":after").getPropertyValue("content"),Brandung.Mobile.getWindowWidth=function(){Brandung.Mobile.mediaDevice=Brandung.IE8?"desktop":window.getComputedStyle(document.body,":after").getPropertyValue("content")},Brandung.GlobalVars.$window.on("load",function(){Brandung.Mobile.getWindowWidth(),Brandung.Mobile.checkOrientation()}).smartresize(function(){(!Modernizr.touch&&0!==window.orientation||Modernizr.touch&&0!==window.orientation)&&Brandung.Mobile.getWindowWidth(),Brandung.Helpers.reInit()}).on("orientationchange",function(){Brandung.Mobile.checkOrientation()}),Brandung.Plugins=a.extend(Brandung.Plugins?Brandung.Plugins:{},{init:function(){Brandung.Plugins.loadScripts()}}),Brandung.Plugins.loadScripts=function(){Brandung.GlobalVars.$body.loadModule([Brandung.folderPath+"hotfix.js","typo3conf/ext/a21_custom/Resources/Public/css/hotfix.css",Brandung.folderPath+"libs/vendor/jquery-cookie-master/src/jquery.cookie.js"],function(){Brandung.Plugins.initContrast()},0),a("[placeholder]").loadModule([Brandung.folderPath+"libs/vendor/placeholder/placeholders.min.js"],function(){},1),a(".mod-finder").loadModule([Brandung.folderPath+"libs/vendor/underscore/underscore-min.js"],function(){Brandung.Functions.tabsFinder()},(new Date).getTime()),"smartphone"===Brandung.Mobile.mediaDevice&&Brandung.GlobalVars.$body.loadModule([Brandung.folderPath+"libs/vendor/h5bp/helper.js"],function(){MBP.scaleFix(),MBP.hideUrlBar()},"unique"),a("form.validate").loadModule([Brandung.folderPath+"libs/vendor/jquery-validation/dist/jquery.validate.min.js"],function(){Brandung.Plugins.validator(a("form.validate"))},0),a(".flexslider").loadModule([Brandung.folderPath+"/libs/vendor/flexslider/flexslider.css",Brandung.folderPath+"/libs/vendor/flexslider/jquery.flexslider-min.js"],function(){Brandung.Plugins.modFlexslider(a(".mod-simple-flexslider .flexslider")),Brandung.Plugins.modFlexslider(a(".mod-carousel .flexslider")),Brandung.Plugins.modFlexslider(a(".mod-carousel-variant .flexslider")),Brandung.Plugins.modSliderFullWidth(a(".mod-slider-full-width .flexslider"))},0),a(".mod-slider-full-width").loadModule([Brandung.folderPath+"libs/vendor/focuspoint/focuspoint.css",Brandung.folderPath+"libs/vendor/focuspoint/jquery.focuspoint.min.js"],function(){Brandung.Plugins.focuspoint(a(".focuspoint"))},0),a(".typeahead").loadModule([Brandung.folderPath+"libs/vendor/typeahead/typeahead.bundle.js"],Brandung.Plugins.initTypeahead,0),a(".fancybox").loadModule([Brandung.folderPath+"libs/vendor/fancybox/jquery.fancybox.pack.js",Brandung.folderPath+"libs/vendor/fancybox/jquery.fancybox.css"],function(){Brandung.Plugins.fancybox(a(".fancybox"))},0),a("body").loadModule([Brandung.folderPath+"libs/vendor/jquery-ui-1.11.4.custom/jquery-ui.min.js",Brandung.folderPath+"libs/vendor/jquery-ui-1.11.4.custom/jquery-ui.min.css"],function(){Brandung.Plugins.uiSlider(a(".range"))},0),a(".mod-map").loadModule([Brandung.folderPath+"libs/vendor/lazy-load-Gmap/jquery.lazy-load-google-maps.min.js"],function(){Brandung.Plugins.googleMapsLoader(a(".my-map"))},0),Brandung.IE8||a(".mod-video").loadModule([Brandung.folderPath+"libs/vendor/video-js/video.js",Brandung.folderPath+"libs/vendor/video-js/video-js.min.css"],function(){Brandung.Plugins.modVideo(a(".mod-video"))},0)},Brandung.Plugins.initTypeahead=function(){var b=a(this),c=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:b.data("url"),cache:!1}});b.typeahead({highlight:!0,minLength:2,limit:10},{name:"data",source:c})},Brandung.Plugins.validator=function(b){b.length&&(a.validator.addClassRules("required-entry",{required:!0}),a.extend(jQuery.validator.messages,{required:"Pflichtfeld",email:"Ungülige E-Mail-Adresse",url:"Ungültige URL",date:"Ungültiges Datum",dateISO:"Ungültiges Datum (ISO)",number:"Ungültige Nummer",digits:"Bitte nur Zahlen eingeben."}),b.each(function(){var b=a(this);b.validate({errorClass:"error",errorElement:"p",highlight:function(b,c){a(b).closest(".field").addClass(c),a(b).closest(".wide").addClass(c)},unhighlight:function(b,c){a(b).closest(".field").removeClass(c),a(b).closest(".wide").removeClass(c)},submitHandler:function(a){a.submit()}})}))},Brandung.Plugins.uiSlider=function(a){a.slider({orientation:"horizontal",range:"min",max:1,value:0})},Brandung.Plugins.modFlexslider=function(b,c){var d=b.find("img").width();d=c?d:220;var e=a(),f={animation:"slide",animationLoop:!0,pauseOnHover:!0,pauseOnAction:!1},g={controlNav:!1,itemWidth:d,minItems:1,maxItems:4,move:1},h={controlNav:!1,itemWidth:425,minItems:1,maxItems:2,move:1};(".mod-carousel .flexslider"===b.selector||c)&&a.extend(f,g),".mod-carousel-variant .flexslider"===b.selector&&a.extend(f,h),Brandung.IE8&&(a.extend(f,{slideshow:!1}),a.extend(g,{slideshow:!1}),a.extend(h,{slideshow:!1})),/IEMobile/i.test(navigator.userAgent)&&(a.extend(f,{touch:!1}),a.extend(g,{touch:!1}),a.extend(h,{touch:!1})),e=f,c?(Brandung.Helpers.flexdestroy(b,e),Brandung.Functions.zoomCarousel()):b.flexslider(e),b.parents(".slide-speed-slow").length>0&&a.extend(f,{slideshowSpeed:2e3}),b.parents(".slide-speed-middle").length>0&&a.extend(f,{slideshowSpeed:5e3}),b.parents(".slide-speed-fast").length>0&&a.extend(f,{slideshowSpeed:7e3})},Brandung.Plugins.modSliderFullWidth=function(a){a.flexslider({animation:"slide",slideshowSpeed:"2000",controlNav:!1,start:function(a){a.find(".current-slide").text(a.currentSlide+1).end().find(".total-slides").text(a.count)},after:function(a){a.find(".current-slide").text(a.currentSlide+1).end().find(".total-slides").text(a.count)}})},Brandung.Plugins.focuspoint=function(a){a.length&&a.focusPoint({throttleDuration:200})},Brandung.Plugins.fancybox=function(a){a.length&&a.fancybox()},Brandung.Plugins.initContrast=function(){function b(){a.cookie("contrast-activated",e,{expires:1,path:"/"})}var c=a(".mod-contrast > .switch"),d=a("body"),e=0;Brandung.Functions.detectCookies()===!0&&(void 0!==a.cookie("contrast-activated")?e=a.cookie("contrast-activated"):(e=0,b()),"1"===e?(c.addClass("active"),d.addClass("color-pattern-contrast"),e=1):(c.removeClass("active"),d.removeClass("color-pattern-contrast"),e=0)),c.click(function(){var c=a(this);d.hasClass("color-pattern-contrast")&&c.hasClass("active")?(c.removeClass("active"),d.removeClass("color-pattern-contrast"),e=0,c.parents(".accessibility").find(".btn-active").removeClass("btn-active"),c.parents(".accessibility").find(".fadeInUp").removeClass("fadeInUp")):(c.addClass("active"),d.addClass("color-pattern-contrast"),e=1,c.parents(".accessibility").find(".btn-active").removeClass("btn-active"),c.parents(".accessibility").find(".fadeInUp").removeClass("fadeInUp")),b()})},Brandung.Plugins.googleMapsLoader=function(b){function c(b){var c=a(".mod-map ul li a");c.click(function(e){e.preventDefault();var f=a(this),g=new google.maps.LatLng(f.attr("data-lat"),f.attr("data-lng"));f.hasClass("active")||(c.removeClass("active"),f.addClass("active")),b.setOptions({zoom:15,center:g,scrollwheel:!1,styles:d}),new google.maps.Marker({position:g,map:b}),("smartphone"===Brandung.Mobile.mediaDevice||"featurephone"===Brandung.Mobile.mediaDevice)&&Brandung.Functions.setOffsetTop(a(".mod-map"))})}var d=[{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#8dc1ae"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#9ebede"}]},{featureType:"landscape",stylers:[{visibility:"on"},{color:"#f6f3ed"},{lightness:-6}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#808080"},{lightness:100},{weight:.5}]},{featureType:"poi.business",elementType:"geometry",stylers:[{color:"#f6f3ed"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#808080"},{weight:.1},{saturation:-100},{lightness:50}]},{featureType:"poi.school",elementType:"geometry",stylers:[{lightness:70},{color:"#8dc1ae"}]}];b.lazyLoadGoogleMaps({api_key:!1,callback:function(b,e){var f=a(b),g=new google.maps.LatLng(f.attr("data-lat"),f.attr("data-lng")),h=a(document).width()>767?!0:!1;e.setOptions({draggable:h,zoom:15,center:g,scrollwheel:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},styles:d}),new google.maps.Marker({position:g,map:e});var i=function(){a.data(e,"center",e.getCenter())};new google.maps.event.addListener(e,"dragend",i),new google.maps.event.addListener(e,"zoom_changed",i),new google.maps.event.addListenerOnce(e,"idle",function(){f.addClass("is-loaded")}),c(e)}})},Brandung.Plugins.modVideo=function(a){a.length&&a.videojs({controls:!0,autoplay:!1,preload:"auto",techOrder:["html5","flash","other supported tech"]})},Brandung.Helpers=a.extend(Brandung.Helpers?Brandung.Helpers:{},{init:function(){Brandung.Helpers.reInit(),Brandung.Helpers.equalHeights(a(".mod-teaser-list .col-m-6 div")),Brandung.Helpers.equalHeights(a(".mod-news .col-s-6 .news-teaser-small")),Brandung.Helpers.equalHeights(a(".list-jobs li")),Brandung.Helpers.equalHeights(a(".mod-news-teaser-large div a:not(moreLink)")),Brandung.Helpers.equalHeights(a(".mod-finder ul li"))}}),Brandung.Helpers.reInit=function(){var b=a(".wrapper > header");a("body").removeClass("navigation-is-active"),a(".mod-meta-navigation").removeClass("active"),Brandung.IE8||a(".flyout").removeClass("fadeInUp"),b.removeClass("is-fixed"),Brandung.Functions.stickyDesktopHeader(b)},Brandung.Helpers.isOnScreen=function(){var b=a(window),c={top:b.scrollTop(),left:b.scrollLeft()};c.right=c.left+b.width(),c.bottom=c.top+b.height();var d=this.offset();return d.right=d.left+this.outerWidth(),d.bottom=d.top+this.outerHeight(),!(c.right<d.left||c.left>d.right||c.bottom<d.top||c.top>d.bottom)},Brandung.Helpers.equalHeights=function(b){var c=0,d=0,e=0,f=[],g=function(){b.css("height","auto"),b.each(function(){var b=a(this),g=b.position().top;if(d!=g){for(e=0;e<f.length;e++)f[e].height(c);f.length=0,d=g,c=b.height(),f.push(b)}else f.push(b),c=c<b.height()?b.height():c;for(e=0;e<f.length;e++)f[e].height(c)})};g(),a(window).on("resize",g)},Brandung.Helpers.flexdestroy=function(b,c){var d=b,e=d.clone();e.find(".flex-viewport").children().unwrap(),e.find(".flex-direction-nav, .flex-control-nav").remove().end().find("*").removeAttr("style").removeClass(function(a,b){return(b.match(/\bflex\S+/g)||[]).join(" ")}),e.insertBefore(d),e.next().remove();var f=e.find("img").width(),g={itemWidth:f};a.extend(c,g),e.flexslider(c)},Brandung.Functions=a.extend(Brandung.Functions?Brandung.Functions:{},{init:function(){this.stickyDesktopHeader(a(".wrapper > header")),this.moveElement(a(".mod-finder, .mod-breadcrumbs"),a(".mod-stage-static, .mod-stage-slider"),"after"),this.additionalFormularFields(a(".toggle-additional-fields"),".additional-fields"),this.modLexicon(a(".mod-lexicon")),this.initPlaceholders(),this.toggleSearch(),this.initArticleScroll(),this.initZoomSlider(),this.modNewsHeight(),this.bookmark(a(".bookmark")),this.toggleRecommend(),this.zoomCarousel(),this.toggleMetaFlyout(),this.displayFilter(),this.resetSelect()}}),Brandung.Functions.stickyDesktopHeader=function(b){function c(a){h+d.scrollTop()>=f+g?a.addClass("is-fixed").css({top:"-"+(f+g-h)+"px"}):a.removeClass("is-fixed").css({top:0})}if(b.length&&(b.removeClass("is-fixed").css({top:0}),Brandung.Mobile.mediaDevice.indexOf("desktop")>-1||Brandung.Mobile.mediaDevice.indexOf("retina")>-1)){var d=a(window),e=a('nav[role="navigation"]'),f=e.position().top,g=e.height(),h=d.height();c(b),d.on("scroll",function(){c(b)})}},Brandung.Functions.additionalFormularFields=function(b,c){if(b.length){var d=null;b.on("change",function(){d=a(this).parents(".mod-form").find(c),d.length&&d.stop(!0,!0).slideToggle("fast")})}},Brandung.Functions.setOffsetTop=function(b){b.length&&a("body, html").stop().animate({scrollTop:b.offset().top-80},500)},Brandung.Functions.bookmark=function(a){var b;0!==a.length&&(a.hide(),b=function(a){window.external&&"AddFavorite"in window.external?(a.preventDefault(),window.external.AddFavorite(window.location.href,document.title)):window.sidebar&&"addPanel"in window.sidebar&&(a.preventDefault(),window.sidebar.addPanel(document.title,window.location.href,""))},(window.sidebar&&"addPanel"in window.sidebar||window.external&&"AddFavorite"in window.external)&&a.show().attr("rel","sidebar").on("click",b))},Brandung.Functions.modLexicon=function(b){if(b.length){var c=b.find("section"),d=c.length,e=null,f="";a.each(c,function(){var b=a(this);0===b.index()&&b.find(".prev").addClass("is-disabled"),b.index()===d-1&&b.find(".next").addClass("is-disabled"),e=b.find(".headline-lexicon").text(),b.find(".headline-lexicon").addClass("target-"+e),f+='<option value="'+e+'">'+e+"</option>"}),a(b).find(".controls-lexicon").prepend('<div class="field"><select name="lexicon-jump-targets">'+f+"</select></div>"),a.each(c,function(){var b=a(this);e=b.find(".headline-lexicon").text(),b.find('option[value="'+e+'"]').attr("selected","selected")}),a(b).find(".controls-lexicon select").on("change",function(){var c=a(this);e=c.val(),Brandung.Functions.setOffsetTop(b.find(".target-"+e).parent("section"));for(var d=0,f=c[0].options.length;f>d;d+=1)c[0].options[d].defaultSelected&&a(this).prop("selectedIndex",d)}),a(b).find(".prev").on("click",function(b){b.preventDefault(),Brandung.Functions.setOffsetTop(a(this).parents("section").prev())}),a(b).find(".next").on("click",function(b){b.preventDefault(),Brandung.Functions.setOffsetTop(a(this).parents("section").next())})}},Brandung.Functions.toggleSearch=function(){var b=a(".search-toggle"),c=a(".mod-search"),d=a(".max-width"),e=a(".mod-search form"),f=a("#globalSearch"),g=a("body"),h=a(".mod-meta-navigation"),i=a(".meta-list li a");b.on("click",function(a){a.preventDefault(),g.hasClass("navigation-is-active")&&(g.removeClass("navigation-is-active"),h.removeClass("active")),i.removeClass("btn-active").next(".flyout").removeClass("fadeInUp"),c.hasClass("active")||c.addClass("active"),Brandung.IE8||d.hasClass("active")||d.addClass("active")}),e.on("submit",function(a){""===f.val()&&(c.removeClass("active"),d.removeClass("active"),a.preventDefault())})},Brandung.Functions.toggleMetaFlyout=function(){var b=a(".meta-list > li > a"),c=".flyout";b.on("click",function(d){var e=a(this);e.parent().hasClass("emergency")||d.preventDefault(),e.next(c).hasClass("fadeInUp")?(e.toggleClass("btn-active"),e.next(c).removeClass("fadeInUp")):(a(c).removeClass("fadeInUp"),b.removeClass("btn-active"),e.toggleClass("btn-active"),e.next(c).addClass("fadeInUp"))})},Brandung.Functions.toggleRecommend=function(){var b=a(".footer-content .recommend > a"),c=b.next(".flyout");b.on("click",function(a){a.preventDefault(),c.toggleClass("active")})},Brandung.Functions.initPlaceholders=function(){Brandung.IE9&&(a("[placeholder]").focus(function(){var b=a(this);b.val()===b.attr("placeholder")&&(b.val(""),b.removeClass("placeholder"))}).blur(function(){var b=a(this);(""===b.val()||b.val()===b.attr("placeholder"))&&(b.addClass("placeholder"),b.val(b.attr("placeholder")))}).blur(),a("[placeholder]").parents("form").submit(function(){a(this).find("[placeholder]").each(function(){var b=a(this);b.val()===b.attr("placeholder")&&b.val("")})}))},Brandung.Functions.initArticleScroll=function(){var b,c=a(".mod-goto-article"),d=c.find("span"),e=c.find("select"),f=a(".mod-table-of-content a"),g=a("footer").height(),h=function(b,c,d,e){var f,g=a(this);e&&b.preventDefault(),c||(f=d?"#"+g.val():g.attr("href"),c=a(f)),Brandung.Functions.setOffsetTop(c),d&&(g.prop("selectedIndex",0),g.blur(function(){g.prop("selectedIndex",0)}))},i=function(){var d=a(document),e=d.scrollTop(),f=d.height()-(a(window).height()+g+30);e>=550?c.fadeIn(600):c.fadeOut(600),c.css(e>=f?{bottom:40+-(f-e)}:{bottom:20}),Brandung.Mobile.mediaDevice.indexOf("desktop")<0&&Brandung.Mobile.mediaDevice.indexOf("retina")<0&&(c.addClass("hidden"),clearTimeout(b),b=setTimeout(function(){c.removeClass("hidden")},100))};i(),a(window).on("scroll",i),e.on("change",function(b){h.call(a(this),b,void 0,!0)}),f.on("click",function(b){h.call(a(this),b,void 0,!1,!0)}),d.on("click",function(b){h.call(a(this),b,a(".mod-breadcrumbs"),!1)})},Brandung.Functions.initZoomSlider=function(){a(".zoom-image").click(function(b){b.preventDefault();var c=a(this),d=a(".mod-slider-full-width .slider-image img"),e=c.parents(".flexslider");e.toggleClass("zoom"),d.each(function(){var b=a(this).attr("src"),c=a(this).data("src");a(this).data("src",b),a(this).attr("src",c)})})},Brandung.Functions.detectCookies=function(){var a=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!=document.cookie.indexOf("testcookie")?!0:!1),a},Brandung.Functions.modNewsHeight=function(){var b=a(".mod-news"),c=0,d=function(){c=b.find(".mod-news-teaser-middle").height()-42,(Brandung.Mobile.mediaDevice.indexOf("tablet")>-1||Brandung.Mobile.mediaDevice.indexOf("desktop")>-1||Brandung.Mobile.mediaDevice.indexOf("retina")>-1)&&b.find(".news-teaser-big").css("minHeight",c+"px")};d(),a(window).on("resize",d),setTimeout(function(){a(window).trigger("resize")},300)},Brandung.Functions.moveElement=function(a,b,c){var d;a.length&&b.length&&!a.hasClass("keep")&&(d=a.detach(),b[c](d))},Brandung.Functions.zoomCarousel=function(){a(".zoom-link").on("click",function(b){b.preventDefault();var c=a(this),d=a(this).parents(".mod-carousel"),e=c.parents(".flexslider"),f=c.parents("li"),g=c.find("img"),h=c.find(".zoom");d.hasClass("is-active")?(d.removeClass("is-active"),h.removeClass("zoom-out"),f.removeClass("is-active"),g.attr("src",g.attr("data-img-small"))):(e.flexslider("pause"),d.addClass("is-active"),h.addClass("zoom-out"),f.addClass("is-active"),g.attr("src",g.attr("data-img-big")))
})},Brandung.Functions.finder=function(){var b={},c={};return c.setData=function(b,c){c.addClass("finder-category-"+b.id.replace("cat","")),a.each(b[b.id],function(){var b=a("<option></option>"),d=this.caption,e=this.value,f={},g={},h=c.next("span").text();a.each(this,function(a,b){"value"!==a&&"caption"!==a&&(f[a]=b)}),a.each(f,function(b,c){"boolean"!=typeof c?(g[b]=c.slice(),a.inArray(0,g[b])<0&&g[b].push(0)):g[b]=c}),b.text(d).attr("value",e).addClass("sub-category-"+e).data("enabled",g).appendTo(c),c.next("span").data("text",h),e===c.data("cat")&&b.prop("selected",!0),setTimeout(function(){0!==c.data("cat")&&c.closest("div").addClass("active").end().next("span").text("")},0)})},c.getData=function(){var b,d=a(this);if((d.data("options")||d.data("optionsUrl"))&&d.empty(),d.data("options")){b=d.data("options");try{c.setData(b,d)}catch(e){b.indexOf("'")>-1&&(b=b.replace(/'/g,'"')),c.setData(a.parseJSON(b),d)}}d.data("optionsUrl")&&a.ajax({url:d.data("optionsUrl"),method:"GET",dataType:"json"}).then(function(a){c.setData(a,d)})},c.convertBoolToArray=function(b){var c=_.flatten(_.values(b)),d=_.filter(c,function(a){return"boolean"==typeof a});return d.length?(a.each(b,function(c,d){var e=parseInt(c.replace("cat",""),10),f={};"boolean"==typeof d?(f[c]=[],d===!0&&a(".finder-category-"+e).find("option").each(function(){f[c].push(parseInt(a(this).val(),10))}),a.inArray(0,f[c])<0&&f[c].push(0)):f[c]=d.slice(),b[c]=f[c]}),b):b},c.checkExcludes=function(){var b=a(this),d=b.find('option[value="'+b[0].value+'"]'),e=b.closest("form"),f=e.find("select").not(b),g=c.convertBoolToArray(d.data("enabled")),h={},i=0===parseInt(b[0].value,0)?b.next("span").data("text"):"";d.data("enabled",g),a.each(g,function(a,b){h[a]=[b]}),g={},f.each(function(){var b=a(this),d=b.find('option[value="'+b[0].value+'"]');d.data("enabled",c.convertBoolToArray(d.data("enabled"))),a.each(d.data("enabled"),function(a,b){h[a]&&h[a].push(b)})}),a.each(h,function(a,b){g[a]=_.intersection.apply(null,b)}),a.each(g,function(b,c){var d=parseInt(b.replace("cat",""),10),f=e.find(".finder-category-"+d);f.find("option").prop("disabled",!1).show().each(function(){var b=a(this),d=a(this).parent(),e=parseInt(b.attr("value"),10);a.inArray(e,c)<0&&(b.prop("selected")&&(b.prop("selected",!1).parent().find("option").eq(0).prop("selected",!0).end().closest("div").removeClass("active"),d.next("span").text(d.next("span").data("text"))),b.prop("disabled",!0).hide())})}),b.next("span").text(i),b.closest("div").addClass("active")},c.initFinder=function(){var b=a(this),d=b.find("select");d.each(function(){var b=a(this);c.getData.call(b),b.on("change",c.checkExcludes)})},c.resetFinder=function(b){var c=a(this).closest("form");b.preventDefault(),c[0].reset(),c.find(".active").removeClass("active"),c.find("option").prop("disabled",!1).show(),c.find("select").each(function(){var b=a(this);b.find('option[value="0"]').prop("selected",!0),b.next("span").text(b.next("span").data("text"))})},b.init=function(a){a.length&&(c.initFinder.call(a),a.find(".tx-frontendlist-pi-searchbox-reset").on("click",c.resetFinder))},b}(),Brandung.Functions.tabsFinder=function(){var b=a(".mod-finder"),c=b.find(" > ul li a"),d=b.find(".finder-tab"),e=function(){window.innerWidth<768?b.hasClass("on-is-mobile")||(c.each(function(){var c=a(this),d=b.find(c.attr("href")).detach();c.parent().after(d)}),b.addClass("on-is-mobile")):b.hasClass("on-is-mobile")&&(c.each(function(){var c=a(this),d=b.find(c.attr("href")).detach();c.closest("ul").after(d)}),b.removeClass("on-is-mobile"))},f=function(b){var e=a(this),f=e.attr("href"),g=a(f),h=g.find(".mod-loading");b.preventDefault(),a(f).hasClass("active")?(e.removeClass("active"),d.slideUp().removeClass("active")):(d.slideUp().removeClass("active"),c.removeClass("active"),e.addClass("active"),g.slideDown().addClass("active")),h.length&&(h.hasClass("is-loading")||(h.addClass("is-loading"),a.get(e.data("url"),function(b){a.when(h.replaceWith(b)).then(function(){Brandung.Functions.finder.init(g.find("form"))})})))};c.on("click",f),a(window).smartresize(e),e()},Brandung.Functions.displayFilter=function(){var b=a(".linkAdvancedBlock");b.on("click",function(){a(this).toggleClass("active").parent().next().slideToggle()})},Brandung.Functions.resetSelect=function(){var b=a(".btn-set a");b.on("click",function(b){var c=a(this);b.preventDefault(),c.parent().prev().find("select").prop("selectedIndex",0),c.parent().prev().find("input").val("")})},a(function(){Brandung.Mobile.init(),Brandung.Plugins.init(),Brandung.Functions.init(),Brandung.Helpers.init()})},Brandung.errorHandler)}(jQuery)},Brandung.errorHandler);